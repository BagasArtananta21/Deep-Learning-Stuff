<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YOLO Object Detection</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='../static/css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>

<div class="container">
    
    <div class="header">
        <h1>YOLO Detection System</h1>
        <p>Upload gambar atau video untuk mendeteksi objek secara realtime</p>
    </div>

    <div class="tabs-nav">
        <button id="btn-image" class="tab-btn active" onclick="openTab('image')">
            <i class="fas fa-image"></i> Image Detection
        </button>
        <button id="btn-video" class="tab-btn" onclick="openTab('video')">
            <i class="fas fa-video"></i> Video Detection
        </button>
    </div>

    <div id="tab-image" class="tab-content active">
        <form action="{{ url_for('detect') }}" method="POST" enctype="multipart/form-data" class="upload-form">
            <div class="upload-area">
                <i class="fas fa-cloud-upload-alt upload-icon"></i>
                <h3 class="upload-title">Upload Image File</h3>
                <p class="upload-hint">Format supported: JPG, PNG, JPEG</p>
                
                <div class="file-input-container">
                    <label for="imageInput" class="file-label">
                        <i class="fas fa-folder-open"></i> Choose Image
                    </label>
                    <input type="file" id="imageInput" name="image" accept="image/*" onchange="updateFileName(this, 'name-image')" required>
                    
                    <span id="name-image" class="file-name-display">No file chosen</span>
                </div>

                <button type="submit" class="btn-submit">Detect Now</button>
            </div>
        </form>
    </div>

    <div id="tab-video" class="tab-content">
        <form action="{{ url_for('detectVideo') }}" method="POST" enctype="multipart/form-data" class="upload-form">
            <div class="upload-area">
                <i class="fas fa-film upload-icon"></i>
                <h3 class="upload-title">Upload Video File</h3>
                <p class="upload-hint">Format supported: MP4, AVI, MKV</p>

                <div class="file-input-container">
                    <label for="videoInput" class="file-label file-label-video">
                        <i class="fas fa-folder-open"></i> Choose Video
                    </label>
                    <input type="file" id="videoInput" name="video" accept="video/*" onchange="updateFileName(this, 'name-video')" required>
                    
                    <span id="name-video" class="file-name-display">No file chosen</span>
                </div>

                <button type="submit" class="btn-submit btn-video">Analyze Video</button>
            </div>
        </form>
    </div>

</div>

<script>
    function openTab(tabName) {
        document.querySelectorAll('.tab-content').forEach(content => {
            content.classList.remove('active');
        });

        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.classList.remove('active');
        });

        document.getElementById('tab-' + tabName).classList.add('active');
        document.getElementById('btn-' + tabName).classList.add('active');
    }

    function updateFileName(input, spanId) {
        const fileName = input.files[0] ? input.files[0].name : "No file chosen";
        document.getElementById(spanId).textContent = fileName;
    }
</script>

</body>
</html>