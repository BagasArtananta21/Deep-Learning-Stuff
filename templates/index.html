<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YOLO Object Detection</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/loading.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">\
</head>

<body>

<div class="container">
    
    <div class="header">
        <h1>YOLO Detection System</h1>
        <p>Upload gambar atau video untuk mendeteksi objek secara realtime</p>
    </div>

    <div class="tabs-nav">
        <button id="btn-image" class="tab-btn active" onclick="openTab('image')">
            <i class="fas fa-image"></i> Image Detection
        </button>
        <button id="btn-video" class="tab-btn" onclick="openTab('video')">
            <i class="fas fa-video"></i> Video Detection
        </button>
    </div>

    <div id="tab-image" class="tab-content active">
        <form action="{{ url_for('detect') }}" method="POST" enctype="multipart/form-data" class="upload-form">
            <div class="upload-area">
                <i class="fas fa-cloud-upload-alt upload-icon"></i>
                <h3 class="upload-title">Upload Image File</h3>
                <p class="upload-hint">Format supported: JPG, PNG, JPEG</p>
                
                <div class="file-input-container">
                    <label for="imageInput" class="file-label">
                        <i class="fas fa-folder-open"></i> Choose Image
                    </label>
                    <input type="file" id="imageInput" name="image" accept="image/*" onchange="updateFileName(this, 'name-image')" required>

                    <div style="margin: 20px 0; text-align: left; display: inline-block;">
                        <label style="font-weight: bold; color: #333;">Select Enhancement:</label>
                        <select name="method" style="padding: 8px; border-radius: 5px; border: 1px solid #ccc;">
                            <option value="original">Original (No Filter)</option>
                            <option value="clahe">CLAHE (Recommended)</option>
                            <option value="he">Histogram Equalization</option>
                            <option value="cs">Contrast Stretching</option>
                            <option value="brightness">Increase Brightness</option>
                        </select>
                    </div>
                    
                    <span id="name-image" class="file-name-display">No file chosen</span>
                </div>

                <button type="submit" class="btn-submit">Detect Now</button>
            </div>
        </form>
    </div>

    <div id="tab-video" class="tab-content">
        <form id="videoForm" action="{{ url_for('detectVideo') }}" method="POST" enctype="multipart/form-data" class="upload-form">
            <div class="upload-area">
                <i class="fas fa-film upload-icon"></i>
                <h3 class="upload-title">Upload Video File</h3>
                <p class="upload-hint">Format supported: MP4, AVI, MKV</p>

                <div class="file-input-container">
                    <label for="videoInput" class="file-label file-label-video">
                        <i class="fas fa-folder-open"></i> Choose Video
                    </label>
                    <input type="file" id="videoInput" name="video" accept="video/*" onchange="updateFileName(this, 'name-video')" required>
                    
                    <span id="name-video" class="file-name-display">No file chosen</span>
                </div>

                <button type="submit" class="btn-submit btn-video" id="btnUploadVideo">Analyze Video</button>
                
                <div id="progress-container">
                    <div class="progress-track">
                        <div class="progress-fill" id="progressBar">0%</div>
                    </div>
                    <div class="status-text" id="statusText">Mengupload Video...</div>
                </div>

            </div>
        </form>
    </div>

</div>

<script src="{{ url_for('static', filename='js/loading.js') }}"></script>
<script src="{{ url_for('static', filename='js/script.js') }}"></script>


</body>
</html>